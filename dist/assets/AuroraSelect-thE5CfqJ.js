import{r,j as n,f as E}from"./index-BWRs-o60.js";import{c as o}from"./utils-CKXzwFwe.js";function R({value:d,onChange:x,options:l,placeholder:w="Select",className:g,buttonClassName:h,menuClassName:v}){const b=r.useId(),c=r.useRef(null),m=r.useRef(null),u=r.useRef(null),[i,f]=r.useState(!1),[a,j]=r.useState(null),p=r.useMemo(()=>{var e;return((e=l.find(t=>t.value===d))==null?void 0:e.label)??""},[l,d]);r.useEffect(()=>{const e=t=>{const s=t.target;c.current&&c.current.contains(s)||u.current&&u.current.contains(s)||f(!1)};return window.addEventListener("pointerdown",e),()=>window.removeEventListener("pointerdown",e)},[]),r.useEffect(()=>{if(!i)return;const e=()=>{const t=m.current;if(!t)return;const s=t.getBoundingClientRect();j({left:s.left,top:s.bottom+8,width:s.width})};return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[i]);const y=p||w;return n.jsxs("div",{ref:c,className:o("relative",g),children:[n.jsxs("button",{type:"button","aria-haspopup":"listbox","aria-expanded":i,"aria-controls":b,onClick:()=>f(e=>!e),ref:m,className:o("w-52 px-4 py-2 bg-secondary/60 border border-border/50 rounded-lg text-foreground","inline-flex items-center justify-between gap-3","transition-colors hover:bg-secondary/80","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background",h),children:[n.jsx("span",{className:o("truncate",p?"text-foreground":"text-muted-foreground"),children:y}),n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",className:o("transition-transform",i?"rotate-180":"rotate-0"),children:n.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&a?E.createPortal(n.jsx("div",{ref:u,id:b,role:"listbox",className:o("z-[99999]",v),style:{position:"fixed",left:a.left,top:a.top,width:a.width},children:n.jsx("div",{className:o("glass-panel overflow-hidden","border border-border/60"),children:n.jsx("div",{className:"p-1",children:l.map(e=>{const t=e.value===d;return n.jsx("button",{type:"button",role:"option","aria-selected":t,onClick:()=>{x(e.value),f(!1)},className:o("w-full text-left px-3 py-2 rounded-md","transition-colors",t?"bg-secondary/70 text-foreground border border-border/50":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"),children:e.label},e.value)})})})}),document.body):null]})}export{R as A};
