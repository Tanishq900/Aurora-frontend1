import{R as y,r as I,k as Fe,a as Ve,j as o,L as Xe}from"./index-BWRs-o60.js";import{f as z,b as L,m as U,i as M,c as ee,A as ke,d as $,e as C,g as Ye,h as me,j as qe,k as _e,u as Ee,l as te,G as Ne,n as V,o as re,D as Ge,S as je,p as He,q as Ze,r as De,E as Je,s as Qe,t as Ue,v as $e,B as ie,X as H,Y as F,w as Le,a as ye,R as ce,C as ue,T as pe,L as et,x as tt}from"./LineChart-CdzHRI3k.js";import{c as be}from"./clsx-B-dksMZM.js";import{m as rt}from"./proxy-D_ZAlsMg.js";var it=["layout","type","stroke","connectNulls","isRange","ref"],at=["key"],Te;function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(e)}function ze(e,t){if(e==null)return{};var i=nt(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nt(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},R.apply(this,arguments)}function Oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Oe(Object(i),!0).forEach(function(r){T(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Be(r.key),r)}}function st(e,t,i){return t&&Pe(e.prototype,t),i&&Pe(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,t,i){return t=ae(t),ct(e,Ie()?Reflect.construct(t,i||[],ae(e).constructor):t.apply(e,i))}function ct(e,t){if(t&&(X(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ae(e)}function pt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},he(e,t)}function T(e,t,i){return t=Be(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Be(e){var t=dt(e,"string");return X(t)=="symbol"?t:t+""}function dt(e,t){if(X(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W=function(e){function t(){var i;ot(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return i=lt(this,t,[].concat(a)),T(i,"state",{isAnimationFinished:!0}),T(i,"id",Ee("recharts-area-")),T(i,"handleAnimationEnd",function(){var l=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),te(l)&&l()}),T(i,"handleAnimationStart",function(){var l=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),te(l)&&l()}),i}return pt(t,e),st(t,[{key:"renderDots",value:function(r,a,n){var l=this.props.isAnimationActive,p=this.state.isAnimationFinished;if(l&&!p)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=z(this.props,!1),m=z(c,!0),b=u.map(function(h,O){var g=B(B(B({key:"dot-".concat(O),r:3},f),m),{},{index:O,cx:h.x,cy:h.y,dataKey:d,value:h.value,payload:h.payload,points:u});return t.renderDotItem(c,g)}),A={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(n,")"):null};return y.createElement(L,R({className:"recharts-area-dots"},A),b)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,n=a.baseLine,l=a.points,p=a.strokeWidth,s=l[0].x,c=l[l.length-1].x,u=r*Math.abs(s-c),d=U(l.map(function(f){return f.y||0}));return M(n)&&typeof n=="number"?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(U(n.map(function(f){return f.y||0})),d)),M(d)?y.createElement("rect",{x:s<c?s:s-u,y:0,width:u,height:Math.floor(d+(p?parseInt("".concat(p),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,n=a.baseLine,l=a.points,p=a.strokeWidth,s=l[0].y,c=l[l.length-1].y,u=r*Math.abs(s-c),d=U(l.map(function(f){return f.x||0}));return M(n)&&typeof n=="number"?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(U(n.map(function(f){return f.x||0})),d)),M(d)?y.createElement("rect",{x:0,y:s<c?s:s-u,width:d+(p?parseInt("".concat(p),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,n,l){var p=this.props,s=p.layout,c=p.type,u=p.stroke,d=p.connectNulls,f=p.isRange;p.ref;var m=ze(p,it);return y.createElement(L,{clipPath:n?"url(#clipPath-".concat(l,")"):null},y.createElement(ee,R({},z(m,!0),{points:r,connectNulls:d,type:c,baseLine:a,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&y.createElement(ee,R({},z(this.props,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&f&&y.createElement(ee,R({},z(this.props,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var n=this,l=this.props,p=l.points,s=l.baseLine,c=l.isAnimationActive,u=l.animationBegin,d=l.animationDuration,f=l.animationEasing,m=l.animationId,b=this.state,A=b.prevPoints,h=b.prevBaseLine;return y.createElement(ke,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var g=O.t;if(A){var v=A.length/p.length,x=p.map(function(S,N){var _=Math.floor(N*v);if(A[_]){var E=A[_],D=$(E.x,S.x),G=$(E.y,S.y);return B(B({},S),{},{x:D(g),y:G(g)})}return S}),j;if(M(s)&&typeof s=="number"){var P=$(h,s);j=P(g)}else if(C(s)||Ye(s)){var w=$(h,0);j=w(g)}else j=s.map(function(S,N){var _=Math.floor(N*v);if(h[_]){var E=h[_],D=$(E.x,S.x),G=$(E.y,S.y);return B(B({},S),{},{x:D(g),y:G(g)})}return S});return n.renderAreaStatically(x,j,r,a)}return y.createElement(L,null,y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(a)},n.renderClipRect(g))),y.createElement(L,{clipPath:"url(#animationClipPath-".concat(a,")")},n.renderAreaStatically(p,s,r,a)))})}},{key:"renderArea",value:function(r,a){var n=this.props,l=n.points,p=n.baseLine,s=n.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return s&&l&&l.length&&(!u&&f>0||!me(u,l)||!me(d,p))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(l,p,r,a)}},{key:"render",value:function(){var r,a=this.props,n=a.hide,l=a.dot,p=a.points,s=a.className,c=a.top,u=a.left,d=a.xAxis,f=a.yAxis,m=a.width,b=a.height,A=a.isAnimationActive,h=a.id;if(n||!p||!p.length)return null;var O=this.state.isAnimationFinished,g=p.length===1,v=be("recharts-area",s),x=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,P=x||j,w=C(h)?this.id:h,S=(r=z(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=S.r,_=N===void 0?3:N,E=S.strokeWidth,D=E===void 0?2:E,G=qe(l)?l:{},ge=G.clipDot,Ae=ge===void 0?!0:ge,Q=_*2+D;return y.createElement(L,{className:v},x||j?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(w)},y.createElement("rect",{x:x?u:u-m/2,y:j?c:c-b/2,width:x?m:m*2,height:j?b:b*2})),!Ae&&y.createElement("clipPath",{id:"clipPath-dots-".concat(w)},y.createElement("rect",{x:u-Q/2,y:c-Q/2,width:m+Q,height:b+Q}))):null,g?null:this.renderArea(P,w),(l||g)&&this.renderDots(P,Ae,w),(!A||O)&&_e.renderCallByParent(this.props,p))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(I.PureComponent);Te=W;T(W,"displayName","Area");T(W,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ne.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});T(W,"getBaseValue",function(e,t,i,r){var a=e.layout,n=e.baseValue,l=t.props.baseValue,p=l??n;if(M(p)&&typeof p=="number")return p;var s=a==="horizontal"?r:i,c=s.scale.domain();if(s.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return p==="dataMin"?d:p==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return p==="dataMin"?c[0]:p==="dataMax"?c[1]:c[0]});T(W,"getComposedData",function(e){var t=e.props,i=e.item,r=e.xAxis,a=e.yAxis,n=e.xAxisTicks,l=e.yAxisTicks,p=e.bandSize,s=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,m=t.layout,b=c&&c.length,A=Te.getBaseValue(t,i,r,a),h=m==="horizontal",O=!1,g=d.map(function(x,j){var P;b?P=c[u+j]:(P=V(x,s),Array.isArray(P)?O=!0:P=[A,P]);var w=P[1]==null||b&&V(x,s)==null;return h?{x:re({axis:r,ticks:n,bandSize:p,entry:x,index:j}),y:w?null:a.scale(P[1]),value:P,payload:x}:{x:w?null:r.scale(P[1]),y:re({axis:a,ticks:l,bandSize:p,entry:x,index:j}),value:P,payload:x}}),v;return b||O?v=g.map(function(x){var j=Array.isArray(x.value)?x.value[0]:null;return h?{x:x.x,y:j!=null&&x.y!=null?a.scale(j):null}:{x:j!=null?r.scale(j):null,y:x.y}}):v=h?a.scale(A):r.scale(A),B({points:g,baseLine:v,layout:m,isRange:O},f)});T(W,"renderDotItem",function(e,t){var i;if(y.isValidElement(e))i=y.cloneElement(e,t);else if(te(e))i=e(t);else{var r=be("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,n=ze(t,at);i=y.createElement(Ge,R({},n,{key:a,className:r}))}return i});function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Re(r.key),r)}}function yt(e,t,i){return t&&mt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e,t,i){return t=ne(t),vt(e,Ce()?Reflect.construct(t,i||[],ne(e).constructor):t.apply(e,i))}function vt(e,t){if(t&&(Y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ce=function(){return!!e})()}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ne(e)}function bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ve(e,t)}function Ke(e,t,i){return t=Re(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Re(e){var t=gt(e,"string");return Y(t)=="symbol"?t:t+""}function gt(e,t){if(Y(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var se=function(e){function t(){return ft(this,t),ht(this,t,arguments)}return bt(t,e),yt(t,[{key:"render",value:function(){return null}}])}(I.Component);Ke(se,"displayName","ZAxis");Ke(se,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var At=["option","isActive"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Z.apply(this,arguments)}function jt(e,t){if(e==null)return{};var i=Ot(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ot(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}function Pt(e){var t=e.option,i=e.isActive,r=jt(e,At);return typeof t=="string"?I.createElement(je,Z({option:I.createElement(He,Z({type:t},r)),isActive:i,shapeType:"symbols"},r)):I.createElement(je,Z({option:t,isActive:i,shapeType:"symbols"},r))}function q(e){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},J.apply(this,arguments)}function we(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?we(Object(i),!0).forEach(function(r){K(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):we(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Me(r.key),r)}}function St(e,t,i){return t&&Se(e.prototype,t),i&&Se(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function kt(e,t,i){return t=oe(t),_t(e,We()?Reflect.construct(t,i||[],oe(e).constructor):t.apply(e,i))}function _t(e,t){if(t&&(q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Et(e)}function Et(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!e})()}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oe(e)}function Nt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xe(e,t)}function K(e,t,i){return t=Me(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Me(e){var t=Dt(e,"string");return q(t)=="symbol"?t:t+""}function Dt(e,t){if(q(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var le=function(e){function t(){var i;wt(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return i=kt(this,t,[].concat(a)),K(i,"state",{isAnimationFinished:!1}),K(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),K(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),K(i,"id",Ee("recharts-scatter-")),i}return Nt(t,e),St(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,n=this.props,l=n.shape,p=n.activeShape,s=n.activeIndex,c=z(this.props,!1);return r.map(function(u,d){var f=s===d,m=f?p:l,b=k(k({},c),u);return y.createElement(L,J({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},Ze(a.props,u,d),{role:"img"}),y.createElement(Pt,J({option:m,isActive:f,key:"symbol-".concat(d)},b)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,n=a.points,l=a.isAnimationActive,p=a.animationBegin,s=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state.prevPoints;return y.createElement(ke,{begin:p,duration:s,isActive:l,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,b=n.map(function(A,h){var O=d&&d[h];if(O){var g=$(O.cx,A.cx),v=$(O.cy,A.cy),x=$(O.size,A.size);return k(k({},A),{},{cx:g(m),cy:v(m),size:x(m)})}var j=$(0,A.size);return k(k({},A),{},{size:j(m)})});return y.createElement(L,null,r.renderSymbolsStatically(b))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,n=r.isAnimationActive,l=this.state.prevPoints;return n&&a&&a.length&&(!l||!me(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,n=a.points,l=a.xAxis,p=a.yAxis,s=a.children,c=De(s,Je);return c?c.map(function(u,d){var f=u.props,m=f.direction,b=f.dataKey;return y.cloneElement(u,{key:"".concat(m,"-").concat(b,"-").concat(n[d]),data:n,xAxis:l,yAxis:p,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(h,O){return{x:h.cx,y:h.cy,value:m==="x"?+h.node.x:+h.node.y,errorVal:V(h,O)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,n=r.line,l=r.lineType,p=r.lineJointType,s=z(this.props,!1),c=z(n,!1),u,d;if(l==="joint")u=a.map(function(v){return{x:v.cx,y:v.cy}});else if(l==="fitting"){var f=Qe(a),m=f.xmin,b=f.xmax,A=f.a,h=f.b,O=function(x){return A*x+h};u=[{x:m,y:O(m)},{x:b,y:O(b)}]}var g=k(k(k({},s),{},{fill:"none",stroke:s&&s.fill},c),{},{points:u});return y.isValidElement(n)?d=y.cloneElement(n,g):te(n)?d=n(g):d=y.createElement(ee,J({},g,{type:p})),y.createElement(L,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,a=r.hide,n=r.points,l=r.line,p=r.className,s=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,b=r.id,A=r.isAnimationActive;if(a||!n||!n.length)return null;var h=this.state.isAnimationFinished,O=be("recharts-scatter",p),g=s&&s.allowDataOverflow,v=c&&c.allowDataOverflow,x=g||v,j=C(b)?this.id:b;return y.createElement(L,{className:O,clipPath:x?"url(#clipPath-".concat(j,")"):null},g||v?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(j)},y.createElement("rect",{x:g?u:u-f/2,y:v?d:d-m/2,width:g?f:f*2,height:v?m:m*2}))):null,l&&this.renderLine(),this.renderErrorBar(),y.createElement(L,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!A||h)&&_e.renderCallByParent(this.props,n))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])}(I.PureComponent);K(le,"displayName","Scatter");K(le,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ne.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});K(le,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,r=e.zAxis,a=e.item,n=e.displayedData,l=e.xAxisTicks,p=e.yAxisTicks,s=e.offset,c=a.props.tooltipType,u=De(a.props.children,Ue),d=C(t.dataKey)?a.props.dataKey:t.dataKey,f=C(i.dataKey)?a.props.dataKey:i.dataKey,m=r&&r.dataKey,b=r?r.range:se.defaultProps.range,A=b&&b[0],h=t.scale.bandwidth?t.scale.bandwidth():0,O=i.scale.bandwidth?i.scale.bandwidth():0,g=n.map(function(v,x){var j=V(v,d),P=V(v,f),w=!C(m)&&V(v,m)||"-",S=[{name:C(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:v,dataKey:d,type:c},{name:C(i.dataKey)?a.props.name:i.name||i.dataKey,unit:i.unit||"",value:P,payload:v,dataKey:f,type:c}];w!=="-"&&S.push({name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:v,dataKey:m,type:c});var N=re({axis:t,ticks:l,bandSize:h,entry:v,index:x,dataKey:d}),_=re({axis:i,ticks:p,bandSize:O,entry:v,index:x,dataKey:f}),E=w!=="-"?r.scale(w):A,D=Math.sqrt(Math.max(E,0)/Math.PI);return k(k({},v),{},{cx:N,cy:_,x:N-D,y:_-D,xAxis:t,yAxis:i,zAxis:r,width:2*D,height:2*D,size:E,node:{x:j,y:P,z:w},tooltipPayload:S,tooltipPosition:{x:N,y:_},payload:v},u&&u[x]&&u[x].props)});return k({points:g},s)});var $t=$e({chartName:"BarChart",GraphicalChild:ie,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:F}],formatAxisMap:Le}),Lt=$e({chartName:"ComposedChart",GraphicalChild:[ye,W,ie,le],axisComponents:[{axisType:"xAxis",AxisComp:H},{axisType:"yAxis",AxisComp:F},{axisType:"zAxis",AxisComp:se}],formatAxisMap:Le});const Tt={async getWeeklyAlerts(){return(await Fe.get("/analytics/alerts/week")).data}};function de({title:e,subtitle:t,children:i}){return o.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"rounded-2xl bg-black/60 backdrop-blur border border-border/60 shadow-[0_10px_30px_rgba(0,0,0,0.45)]",children:[o.jsx("div",{className:"px-5 pt-5 pb-4",children:o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"min-w-0",children:[o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-foreground leading-tight",children:e}),t?o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:t}):null]})})}),o.jsx("div",{className:"px-3 pb-4",children:i})]})}function fe({active:e,payload:t,label:i}){return!e||!t||t.length===0?null:o.jsxs("div",{className:"rounded-xl border border-border/70 bg-black/90 backdrop-blur px-3 py-2 shadow-[0_12px_36px_rgba(0,0,0,0.55)]",children:[o.jsx("div",{className:"text-sm font-semibold text-foreground",children:i}),o.jsx("div",{className:"mt-1 space-y-1",children:t.filter(r=>r&&r.value!==void 0).map(r=>o.jsxs("div",{className:"flex items-center justify-between gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-sm",style:{background:r.color}}),o.jsx("span",{className:"text-muted-foreground truncate",children:r.name||r.dataKey})]}),o.jsx("span",{className:"text-foreground tabular-nums",children:Number(r.value).toLocaleString()})]},r.dataKey))})]})}function Kt(){const{user:e,logout:t}=Ve(),[i,r]=I.useState(null),[a,n]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const c=await Tt.getWeeklyAlerts();r(c)}catch(c){console.error("Failed to load analytics:",c)}finally{n(!1)}};if(a)return o.jsxs("div",{className:"min-h-screen aurora-gradient p-6 relative",children:[o.jsx("div",{className:"aurora-bg"}),o.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:o.jsx("div",{className:"glass-panel p-6 text-center text-muted-foreground",children:"Loading analytics..."})})]});if(!i)return o.jsxs("div",{className:"min-h-screen aurora-gradient p-6 relative",children:[o.jsx("div",{className:"aurora-bg"}),o.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:o.jsx("div",{className:"glass-panel p-6 text-center text-muted-foreground",children:"Failed to load analytics"})})]});const p=i.labels.map((c,u)=>({day:c,sos:i.sos[u],ai:i.ai[u]})),s={sos:"hsl(var(--destructive))",ai:"hsl(var(--aurora-cyan))",grid:"hsl(var(--border))",tick:"hsl(var(--muted-foreground))"};return o.jsxs("div",{className:"min-h-screen bg-black p-6 relative",children:[o.jsx("div",{className:"aurora-bg"}),o.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[o.jsxs("div",{className:"glass-panel border-b border-border/50 px-6 py-4 flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold aurora-text",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Weekly alert statistics",e!=null&&e.name||e!=null&&e.email?` â€¢ ${(e==null?void 0:e.name)||(e==null?void 0:e.email)}`:""]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Xe,{to:"/security",className:"px-4 py-2 bg-secondary/60 hover:bg-secondary/80 text-foreground rounded-lg transition-colors border border-border/50",children:"Back to Dashboard"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-secondary/60 hover:bg-secondary/80 text-foreground rounded-lg transition-colors border border-border/50",children:"Logout"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-8",children:[o.jsxs("div",{className:"rounded-2xl bg-black/60 backdrop-blur border border-border/60 px-5 py-4 shadow-[0_10px_30px_rgba(0,0,0,0.45)]",children:[o.jsx("h3",{className:"text-muted-foreground text-xs sm:text-sm",children:"Total SOS This Week"}),o.jsx("p",{className:"mt-2 text-3xl sm:text-4xl font-semibold text-foreground tabular-nums",children:i.kpis.totalSOS})]}),o.jsxs("div",{className:"rounded-2xl bg-black/60 backdrop-blur border border-border/60 px-5 py-4 shadow-[0_10px_30px_rgba(0,0,0,0.45)]",children:[o.jsx("h3",{className:"text-muted-foreground text-xs sm:text-sm",children:"Peak Day"}),o.jsx("p",{className:"mt-2 text-3xl sm:text-4xl font-semibold text-foreground truncate",children:i.kpis.peakDay})]}),o.jsxs("div",{className:"rounded-2xl bg-black/60 backdrop-blur border border-border/60 px-5 py-4 shadow-[0_10px_30px_rgba(0,0,0,0.45)]",children:[o.jsx("h3",{className:"text-muted-foreground text-xs sm:text-sm",children:"Highest AI Risk Count"}),o.jsx("p",{className:"mt-2 text-3xl sm:text-4xl font-semibold text-foreground tabular-nums",children:i.kpis.highestAIRisk})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[o.jsx(de,{title:"SOS Alerts",subtitle:"Count per day",children:o.jsx(ce,{width:"100%",height:260,children:o.jsxs($t,{data:p,margin:{top:6,right:10,left:4,bottom:0},children:[o.jsx(ue,{vertical:!1,stroke:s.grid,opacity:.25}),o.jsx(H,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12}}),o.jsx(F,{axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12},width:34}),o.jsx(pe,{content:o.jsx(fe,{}),cursor:{fill:"rgba(135, 235, 173, 0.08)"},wrapperStyle:{outline:"none"}}),o.jsx(ie,{dataKey:"sos",name:"SOS",fill:s.sos,radius:4,barSize:24,style:{filter:"drop-shadow(0px 0px 10px rgba(239,68,68,0.35))"}})]})})}),o.jsx(de,{title:"AI Risk Spikes",subtitle:"Detected spikes per day",children:o.jsx(ce,{width:"100%",height:260,children:o.jsxs(et,{data:p,margin:{top:6,right:10,left:4,bottom:0},children:[o.jsx(ue,{vertical:!1,stroke:s.grid,opacity:.25}),o.jsx(H,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12}}),o.jsx(F,{axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12},width:34}),o.jsx(pe,{content:o.jsx(fe,{}),cursor:{stroke:"rgba(37, 246, 228, 0.25)",strokeWidth:1},wrapperStyle:{outline:"none"}}),o.jsx(ye,{type:"monotone",dataKey:"ai",name:"AI",stroke:s.ai,strokeWidth:2.25,dot:!1,activeDot:{r:4,fill:s.ai,stroke:"hsl(var(--background))",strokeWidth:2},style:{filter:"drop-shadow(0px 0px 10px rgba(37,246,228,0.35))"}})]})})})]}),o.jsx(de,{title:"SOS vs AI",subtitle:"Comparison view",children:o.jsx(ce,{width:"100%",height:340,children:o.jsxs(Lt,{data:p,margin:{top:8,right:22,left:8,bottom:0},children:[o.jsx(ue,{vertical:!1,stroke:s.grid,opacity:.25}),o.jsx(H,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12}}),o.jsx(F,{yAxisId:"left",axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12},width:34}),o.jsx(F,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:s.tick,fontSize:12},width:34}),o.jsx(pe,{content:o.jsx(fe,{}),wrapperStyle:{outline:"none"}}),o.jsx(tt,{verticalAlign:"top",align:"right",iconType:"square",wrapperStyle:{paddingBottom:8,color:"hsl(var(--muted-foreground))",fontSize:12}}),o.jsx(ie,{yAxisId:"left",dataKey:"sos",name:"SOS",fill:s.sos,radius:4,barSize:20,style:{filter:"drop-shadow(0px 0px 10px rgba(239,68,68,0.35))"}}),o.jsx(ye,{yAxisId:"right",type:"monotone",dataKey:"ai",name:"AI",stroke:s.ai,strokeWidth:2.25,dot:!1,activeDot:{r:4,fill:s.ai,stroke:"hsl(var(--background))",strokeWidth:2},style:{filter:"drop-shadow(0px 0px 10px rgba(37,246,228,0.35))"}})]})})})]})]})}export{Kt as default};
