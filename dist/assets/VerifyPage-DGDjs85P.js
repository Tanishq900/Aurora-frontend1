import{r as t,u as j,d as v,j as e,L as N,c as w}from"./index-BWRs-o60.js";function E(){var d;const[a,x]=t.useState(""),[i,f]=t.useState(""),[l,r]=t.useState(""),[h,g]=t.useState(!1),[n,o]=t.useState(!1),p=j(),c=((d=v().state)==null?void 0:d.email)||"";t.useEffect(()=>{},[]);const b=async s=>{var u,m;if(s.preventDefault(),r(""),!a){r("User ID is required. Please check your registration confirmation.");return}if(i.length!==6){r("OTP must be 6 digits");return}o(!0);try{await w.verifyOTP(a,i),g(!0),setTimeout(()=>{p("/login")},2e3)}catch(y){r(((m=(u=y.response)==null?void 0:u.data)==null?void 0:m.error)||"Invalid or expired OTP")}finally{o(!1)}};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-slate-800 rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"âœ…"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Email Verified!"}),e.jsx("p",{className:"text-slate-400",children:"Redirecting to login..."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-slate-800 rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Verify Email"}),e.jsx("p",{className:"text-slate-400",children:c?`Check ${c} for your OTP code`:"Enter your verification code"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l&&e.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-200 px-4 py-3 rounded",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userId",className:"block text-sm font-medium text-slate-300 mb-2",children:"User ID (from registration email)"}),e.jsx("input",{id:"userId",type:"text",value:a,onChange:s=>x(s.target.value),required:!0,className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter user ID"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-slate-300 mb-2",children:"OTP Code"}),e.jsx("input",{id:"otp",type:"text",value:i,onChange:s=>f(s.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-center text-2xl tracking-widest focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"000000"})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Verifying...":"Verify"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(N,{to:"/login",className:"text-primary-400 hover:text-primary-300 text-sm",children:"Back to Login"})})]})})}export{E as default};
