import{r as a,j as e,u as w,a as b,L as N}from"./index-CgkMzMIO.js";import{A as c,a as S,G as A,b as p,c as L,d as E}from"./AuroraButton-C1Z3qCTj.js";import{m as s}from"./proxy-BGfLWzAz.js";import"./utils-CKXzwFwe.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-BcP27hZ0.js";function k({onComplete:t}){const[i,n]=a.useState("intro");return a.useEffect(()=>{const l=setTimeout(()=>{n("exit")},900),o=setTimeout(()=>{t()},1500);return()=>{clearTimeout(l),clearTimeout(o)}},[t]),e.jsxs(s.div,{className:"fixed inset-0 z-50 bg-background flex items-center justify-center overflow-hidden",initial:{opacity:1},animate:{opacity:i==="exit"?0:1},transition:{duration:.6,delay:i==="exit"?.1:0},children:[e.jsx(c,{size:"xl",showText:!0,glowing:!0,markScale:5}),e.jsx(s.p,{className:"absolute bottom-10 text-center text-muted-foreground mt-6 text-lg",initial:{opacity:0,y:10},animate:{opacity:i==="exit"?0:1,y:0},transition:{delay:.2,duration:.4},children:"Intelligent Safety. Always Guarding."})]})}function B(){const[t,i]=a.useState(!0),[n,l]=a.useState(""),[o,y]=a.useState(""),[d,m]=a.useState(""),[u,x]=a.useState(!1),f=w(),{login:h}=b(),j=async r=>{r.preventDefault(),m(""),x(!0);try{await h(n,o),f("/")}catch(v){const g=v.message||"Login failed";alert(`Login Failed:

${g}`),m(g)}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:t&&e.jsx(k,{onComplete:()=>i(!1)})}),e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs(s.div,{className:"w-full lg:w-[55%] flex items-center justify-center p-8 relative",initial:{opacity:0,x:-100},animate:{opacity:t?0:1,x:t?-100:0},transition:{duration:.8,delay:.2,ease:"easeOut"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-aurora-cyan/5"}),e.jsxs(A,{className:"w-full max-w-md p-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(c,{size:"lg",showText:!0,glowing:!0,markScale:5}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Campus Security System"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d&&e.jsxs("div",{className:"bg-destructive/20 border border-destructive/40 text-destructive-foreground px-4 py-3 rounded",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Login Error:"}),e.jsx("div",{className:"text-sm",children:d})]}),e.jsx(p,{label:"Email Address",type:"email",placeholder:"Enter your email",value:n,onChange:r=>l(r.target.value),required:!0}),e.jsx(p,{label:"Password",type:"password",placeholder:"Enter your password",value:o,onChange:r=>y(r.target.value),required:!0}),e.jsx(L,{type:"submit",className:"w-full mt-2",size:"lg",loading:u,children:u?"Logging in...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Don't have an account?"," ",e.jsx(N,{to:"/register",className:"text-aurora-cyan hover:opacity-80 transition-opacity",children:"Register"})]})})]})]}),e.jsxs(s.div,{className:"hidden lg:flex flex-1 relative overflow-hidden items-center justify-center",initial:{opacity:0},animate:{opacity:t?0:1},transition:{duration:.8,delay:.4},children:[e.jsx(E,{interactive:!1}),e.jsxs(s.div,{className:"relative z-10 text-center px-8",initial:{opacity:0,y:20},animate:{opacity:t?0:1,y:t?20:0},transition:{delay:.8,duration:.8},children:[e.jsx(c,{size:"lg",showText:!0,glowing:!1,markScale:5}),e.jsx(s.p,{className:"text-muted-foreground mt-6 max-w-sm mx-auto text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:"Intelligent Safety. Always Guarding."})]})]})]})]})}export{B as default};
